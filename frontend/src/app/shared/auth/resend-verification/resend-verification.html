<section class="card">
  <h1>Renvoyer l'email de vérification</h1>
  <p>
    Entrez l'adresse utilisée lors de votre inscription. Si le compte n'est pas encore activé, un
    nouveau lien de vérification vous sera envoyé.
  </p>

  <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
    <label for="email">Email</label>
    <input
      id="email"
      type="email"
      autocomplete="email"
      formControlName="email"
      [class.invalid]="form.controls.email.touched && form.controls.email.invalid"
    />
    @if (form.controls.email.touched && form.controls.email.hasError('required')) {
      <p class="hint error">Email requis.</p>
    } @else if (form.controls.email.touched && form.controls.email.hasError('email')) {
      <p class="hint error">Format d'email invalide.</p>
    }

    <button type="submit" [disabled]="form.invalid || status() === 'loading'">
      Envoyer un nouveau lien
    </button>
  </form>

  @if (status() === 'success' && message()) {
    <p class="status success">{{ message() }}</p>
  }

  @if (status() === 'error' && message()) {
    <p class="status error">{{ message() }}</p>
  }

  <p class="hint">
    <a routerLink="/login">Retourner à la connexion</a>
  </p>
</section>
